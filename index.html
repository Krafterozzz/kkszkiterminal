<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:description" content='KKSZKI INDULÓ'>
    <link rel="stylesheet" href="style.css">
    <meta property="og:image" content="https://cms.kando.intezmeny.edir.hu/uploads/thumbnail_imageedit_3_3893777332_c4067ae601.png">
    <link rel="shortcut icon" href="https://cms.kando.intezmeny.edir.hu/uploads/thumbnail_imageedit_3_3893777332_c4067ae601.png" type="image/png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cousine:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

    <title>KKSZKI INDULÓ</title>
    <style>

        /* Láthatatlan input */
        input[type="text"] {
            position: absolute;
            top: -1000px;
        }

        .cursor {
            animation: blink 1s step-end infinite;
        }

        @keyframes blink {
            50% {
                visibility: hidden;
            }
        }

        /* Mobil nézet esetére */
        @media only screen and (max-width: 768px) {
            .console {
                width: 90vw;
                height: 90vw; /* Négyzetes arány fenntartása */
            }
        }
    </style>
</head>
<body> 
    <div class="console">
        <header>guest@kkszki.local</header>
        <div class="consolebody" id="consolebody">
            <p>> írd be a help parancsok listájának megtekintéséhez</p>
        </div>
    </div>

    <!-- Láthatatlan input mező -->
    <input type="text" id="hiddenInput">

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const consoleBody = document.getElementById('consolebody');
        const hiddenInput = document.getElementById('hiddenInput');
        let currentInput = '';
        const disclaimerText = 'Igen is vannak bugok a weboldalon de ha valami történik egy oldal refresh megoldhatja a problémát';
        const commandHistory = [];
        let historyIndex = -1;

        // Konzol frissítése
        function createInputLine() {
            const inputLine = document.createElement('p');
            inputLine.innerHTML = '> <span class="current-input"></span><span class="cursor">█</span>';
            consoleBody.appendChild(inputLine);
            consoleBody.scrollTop = consoleBody.scrollHeight;
            return inputLine;
        }

        function updateInput() {
            const currentInputSpans = consoleBody.querySelectorAll('.current-input');
            const currentInputSpan = currentInputSpans[currentInputSpans.length - 1];
            if (currentInputSpan) {
                currentInputSpan.textContent = currentInput;
            }
        }

        function addOutputLine(text) {
            const outputLine = document.createElement('p');
            outputLine.textContent = text;
            consoleBody.insertBefore(outputLine, consoleBody.lastChild);
            consoleBody.scrollTop = consoleBody.scrollHeight;
        }

        function executeCommand() {
            addOutputLine(`> ${currentInput}`);
            if (currentInput.toLowerCase() === 'help') {
                addOutputLine('Elérhető parancsok: help, clear, echo [szöveg], date, time, whoami, disclaimer, play, stop, whomade ');
            } else if (currentInput.toLowerCase() === 'disclaimer') {
                addOutputLine(disclaimerText);
            } else if (currentInput.toLowerCase() === 'clear') {
                consoleBody.innerHTML = '';
                createInputLine();
            } else if (currentInput.toLowerCase().startsWith('echo ')) {
                addOutputLine(currentInput.slice(5));
            } else if (currentInput.toLowerCase() === 'date') {
                const date = new Date().toLocaleDateString();
                addOutputLine(date);
            } else if (currentInput.toLowerCase() === 'time') {
                const time = new Date().toLocaleTimeString();
                addOutputLine(time);
            } else if (currentInput.toLowerCase() === 'whoami') {
                addOutputLine('student');
            } else if (currentInput.toLowerCase() === 'whomade') {
                addOutputLine('@zsombi9.b');
            } else if (currentInput.trim() !== '') {
                addOutputLine(`Ismeretlen parancs: ${currentInput}`);
            }

            if (currentInput.trim() !== '') {
                commandHistory.push(currentInput);
            }

            currentInput = '';
            historyIndex = -1;
            updateInput();
            consoleBody.scrollTop = consoleBody.scrollHeight;
        }

        // Key input kezelés
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                executeCommand();
            } else if (event.key === 'Backspace') {
                currentInput = currentInput.slice(0, -1);
                updateInput();
            } else if (event.key === 'ArrowUp') {
                if (commandHistory.length > 0) {
                    if (historyIndex < commandHistory.length - 1) {
                        historyIndex++;
                    }
                    currentInput = commandHistory[commandHistory.length - 1 - historyIndex];
                    updateInput();
                }
            } else if (event.key === 'ArrowDown') {
                if (commandHistory.length > 0) {
                    if (historyIndex > 0) {
                        historyIndex--;
                        currentInput = commandHistory[commandHistory.length - 1 - historyIndex];
                    } else {
                        historyIndex = -1;
                        currentInput = '';
                    }
                    updateInput();
                }
            } else if (event.key.length === 1) {
                currentInput += event.key;
                updateInput();
            }
        });

        createInputLine();

        // Input fókuszálása
        hiddenInput.focus();
        hiddenInput.addEventListener('blur', () => {
            hiddenInput.focus(); // Ne lehessen bezárni a billentyűzetet
        });
    });
    </script>
</body>
</html>
