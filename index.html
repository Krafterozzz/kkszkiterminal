<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta property="og:description" content='KKSZKI INDULÓ'>
    <meta property="og:image" content="https://cms.kando.intezmeny.edir.hu/uploads/thumbnail_imageedit_3_3893777332_c4067ae601.png">
    <link rel="shortcut icon" href="https://cms.kando.intezmeny.edir.hu/uploads/thumbnail_imageedit_3_3893777332_c4067ae601.png" type="image/png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cousine:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <title>KKSZKI INDULÓ</title>
    <style>
        body, html {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: 'Cousine', monospace;
        }
        .console {
            height: 100%;
            display: flex;
            flex-direction: column;
            width: 100%;
            box-sizing: border-box;
        }
        .consolebody {
            flex-grow: 1;
            overflow-y: auto;
            padding: 10px;
            background-color: #eee;
        }
        #myInput {
            width: 100%;
            padding: 10px;
            font-size: 16px;
            border: none;
            border-top: 2px solid #4AA;
            box-sizing: border-box;
            font-family: 'Cousine', monospace;
        }
        .cursor {
            animation: blink 1s step-end infinite;
        }
        @keyframes blink {
            from, to { visibility: visible; }
            50% { visibility: hidden; }
        }
        @media only screen and (max-width: 768px) {
            body {
                font-size: 14px;
            }
            .console {
                width: 100%;
                padding: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="console">
        <div class="consolebody" id="consolebody">
            <p>guest@kkszki.local</p>
            <p>> írd be a help parancsok listájának megtekintéséhez</p>
        </div>
        <input type="text" id="myInput" autocomplete="off" autofocus>
    </div>

    <audio id="audio-player" src="/Users/zsombi/Downloads/goofy-ahh-sounds.mp3"></audio>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const consoleBody = document.getElementById('consolebody');
        const inputField = document.getElementById('myInput');
        let currentInput = '';
        const disclaimerText = 'Igen is vannak bugok a weboldalon de ha valami történik egy oldal refresh megoldhatja a problémát';
        const audioPlayer = document.getElementById('audio-player');
        const commandHistory = [];
        let historyIndex = -1;
        
        function addOutputLine(text) {
            const outputLine = document.createElement('p');
            outputLine.textContent = text;
            consoleBody.appendChild(outputLine);
            consoleBody.scrollTop = consoleBody.scrollHeight;
        }

        function executeCommand(command) {
            addOutputLine(`> ${command}`);
            
            if (command.toLowerCase() === 'help') {
                addOutputLine('Elérhető parancsok: help, clear, echo [szöveg], date, time, whoami, disclaimer, play, stop, whomade');
            } else if (command.toLowerCase() === 'disclaimer') {
                addOutputLine(disclaimerText);
            } else if (command.toLowerCase() === 'clear') {
                consoleBody.innerHTML = '';
            } else if (command.toLowerCase().startsWith('echo ')) {
                addOutputLine(command.slice(5));
            } else if (command.toLowerCase() === 'date') {
                addOutputLine(new Date().toLocaleDateString());
            } else if (command.toLowerCase() === 'time') {
                addOutputLine(new Date().toLocaleTimeString());
            } else if (command.toLowerCase() === 'whoami') {
                addOutputLine('student');
            } else if (command.toLowerCase() === 'play') {
                audioPlayer.play();
                addOutputLine('Zene lejátszódik... "stop"-al lehet megállitani');
            } else if (command.toLowerCase() === 'stop') {
                if (!audioPlayer.paused) {
                    audioPlayer.pause();
                    audioPlayer.currentTime = 0;
                    addOutputLine('A zene megállt');
                } else {
                    addOutputLine('A zene nem játszik, így nem lehet megállítani.');
                }
            } else if (command.toLowerCase() === 'whomade') {
                addOutputLine('@zsombi9.b');
            } else if (command.trim() !== '') {
                addOutputLine(`Ismeretlen parancs: ${command}`);
            }
            
            if (command.trim() !== '') {
                commandHistory.push(command);
            }
            
            historyIndex = -1;
            inputField.value = '';
        }

        inputField.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                executeCommand(inputField.value);
            } else if (event.key === 'ArrowUp') {
                if (commandHistory.length > 0) {
                    if (historyIndex < commandHistory.length - 1) {
                        historyIndex++;
                    }
                    inputField.value = commandHistory[commandHistory.length - 1 - historyIndex];
                }
            } else if (event.key === 'ArrowDown') {
                if (commandHistory.length > 0) {
                    if (historyIndex > 0) {
                        historyIndex--;
                        inputField.value = commandHistory[commandHistory.length - 1 - historyIndex];
                    } else {
                        historyIndex = -1;
                        inputField.value = '';
                    }
                }
            }
        });

        // Mobilbarát funkciók
        inputField.focus();

        document.body.addEventListener('focusout', function(e) {
            if (e.relatedTarget !== inputField) {
                setTimeout(function() {
                    inputField.focus();
                }, 0);
            }
        });

        function resizeConsole() {
            var viewportHeight = window.innerHeight;
            var inputHeight = inputField.offsetHeight;
            consoleBody.style.height = (viewportHeight - inputHeight) + 'px';
        }

        window.addEventListener('resize', resizeConsole);
        resizeConsole();
    });
    </script>
</body>
</html>
